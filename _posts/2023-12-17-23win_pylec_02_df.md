---
layout: single
title: "[23파이썬특강] 2강. 데이터 프레임과 분석 기초"
author_profile: false
toc : true
---

### 1. 개요
- 이곳에서는 첫째, 데이터 형태 중에서 가장 많이 사용하는 **데이터 프레임**이 무엇인지를 살펴보고(교재 4장), 둘째, 데이터 프레임을 대상으로 **데이터를 다루는 기초적인 방법**을 익힌다(교재 5장).
- 실습 코드: 
	- [2023win_python_lec_02_basic.ipynb](https://github.com/hursoo/2023_winter_python-lecture/blob/main/excise_code/2023win_python_lec_02_basic.ipynb)
    - [2023win_python_lec_02_full.ipynb](https://github.com/hursoo/2023_winter_python-lecture/blob/main/excise_code/2023win_python_lec_02_full.ipynb)

- 실습 데이터: [**실습 데이터와 파이썬 코드**](https://github.com/youngwoos/Doit_Python)에서 다음 파일을 워킹디렉터리로 다운로드 받아서 ipynb 파일과 동일한 디렉터리에 둔다.
	- **excel_exam_novar.xlsx**
	- **exam.csv**
	- **mpg.csv**
	- **midwest.csv**

---

### 2. 데이터 프레임
#### 2.1. 데이터 프레임 이해하기
- 데이터 프레임(data frame, df) 형태: 행(row)과 열(column)로 이루어진 사각형 모양의 표
- 데이터 분석에서 "표"의 중요성: [**[표 / 00:04:39]** (생활코딩, 2020-07-29)](https://www.youtube.com/watch?v=dzNsDGXuCBg)
- 행(row)
	 - 개체(instance)  
	 - 관측치(observed value)  
	 - 기록(record)  
	 - 사례(example)  
	 - 경우(case)  
- 열(column)  
	 - 특성(feature)  
	 - 속성(attribute)  
	 - 변수(variable)  
	 - field  
- 데이터가 크다: 행이 많다 또는 열이 많다.
- 데이터 분석에서는 데이터의 양을 의미하는 행보다, 데이터의 **다양성을 의미하는 열이 많은 것**이 더 중요

#### 2.2. df 만들기 1: 직접 입력하기
- <br> 
```python  
df = pd.DataFrame({'name'    : ['김지훈', '이유진', '박동현', '김민지'],
                     'english' : [90, 80, 60, 70],
                     'math'    : [50, 60, 100, 20]})
```
    - (Tip) pd.DataFrame( )의 괄호 속에 **딕셔너리** 형태로 입력한다.(딕셔너리 - 교재, 418쪽 참조)
	- [**[1분 파이썬 - (22) 딕셔너리 1 / 00:01:29]**(나도코딩, 2022-05-11)](https://www.youtube.com/watch?v=ZLp_Wg6VxfA)
    
	- ||name|english|math|
|:---:|:---:|:---:|:---:|
|0|김지훈|90|50|
|1|이유진|80|60|
|2|박동현|60|100|
|3|김민지|70|20|

- df로 분석하기: 
    - 특정 변수의 값 추출하기: **```df['english']```**
    - 변수의 값으로 합계 구하기: **```sum(df['english'])```**
    - 변수의 값으로 평균 구하기: **```sum(df['english']) / 4```**

#### 2.3. df 만들기 2: 외부 데이터 이용하기
- 엑셀 파일 불러오기 
```python
df_exam = pd.read_excel('excel_exam.xlsx')
```
- CSV 파일 불러오기
```python
df_csv_exam = pd.read_csv('exam.csv')
```
- CSV 파일로 저장하기
```python
df_midterm.to_csv('output_newdata.csv')
```

#### 2.4 초보자가 자주하는 실수 (&rarr; 교재 94-95쪽)

---

### 3. 데이터 분석 기초

#### 3.1. 데이터 파악하기
- 패키지 로드
```python
import pandas as pd
import numpy as np
```
- 데이터 불러오기
```python
mpg = pd.read_csv('mpg.csv')
```
- 데이터 파악하기
```python
mpg.head()      # 데이터 앞부분
mpg.tail()      # 데이터 뒷부분
mpg.info()      # 행, 열 수
mpg.describe()  # 요약 통계량
```
- 사분위 간 범위: 제1 사분위수와 제3 사분위수 간의 거리(Q3-Q1)로, 데이터의 중간 50%에 대한 범위. * [사분위 수](https://support.minitab.com/ko-kr/minitab/20/help-and-how-to/graphs/boxplot/interpret-the-results/quartiles/)  
![image_quantile](https://github.com/hursoo/2023_winter_python-lecture/assets/39477358/c159d399-6f08-49fa-9a5e-105b4c818608){: width="500" height="500"} 
- [**[사분위수(1) / 00:06:50]**(TMook, 2018-07-24)](https://www.youtube.com/watch?v=wDtQHRK4HAY)

#### 3.2. 함수, 메서드, 어트리뷰트 구분하기
- 내장 함수 : 가장 기본적인 함수로 파이썬에 내장. &rarr; 함수명 및 괄호 입력해서 사용. ex) sum(var)
- 패키지 함수 : 패키지를 로드해야 사용. &rarr; 패키지명 뒤에 점 찍고 함수명 및 괄호 입력해서 사용. ex) pd.DataFrame({'x':[1, 2, 3]})
- 메서드 : '변수가 지니고 있는 함수'. 변수명 뒤에 점 찍고 메서드명 및 괄호 입력해서 사용. ex) df.head() = 변수의 자료구조에 따라 사용할 수 있는 메서드가 다르다.
- 어트리뷰트 : '변수가 지니고 있는 값'. 변수명 뒤에 점 찍고 어트리뷰트명 입력해서 사용. 괄호가 없다.  ex) df.shape ; df.index ; df.columns = 이 역시 변수의 자료구조에 따라 사용할 수 있는 어트리뷰트가 다르다.


#### 3.3. 변수명 바꾸기
- 변수명 바꾸기: df.rename( ) &larr; 변수명을 이해하기 쉬운 단어로 변경
```python
mpg = mpg.rename(columns = {'manufacturer' : 'company'})
```
- 파생변수 만들기: 파생변수 = 기존의 변수를 변형해서 만든 변수 <br>
```python
mpg['total'] = (mpg['cty'] + mpg['hwy'])/2                  # 변수 조합
```
- 조건문: np.where(**조건**, 조건 **맞을 때** 부여할 값, **맞지 않을 때** 부여할 값)
```python
mpg['test'] = np.where(mpg['total'] >= 20, 'pass', 'fail')  # 조건문 활용
```
- 빈도 확인하기: value_counts( )
```python
count_test = mpg['test'].value_counts()     # 빈도표 만들기
count_test.plot.bar(rot = 0)                # 빈도 막대 그래프 만들기
```
- **중첩 조건문**: np.where( ) **여러 번** 활용 (&rarr; 교재, 123쪽, 127쪽)
- **메서드 체이닝**: 점(.)을 이용해 메서드를 계속 이어서 작성하는 방법(&rarr; 교재, 126쪽)

---

### 참고할 유튜브
- 분산병렬 처리의 역사와 챗지피티 시대의 화두: [**[ChatGPT로 과제한다는데 어떻게 생각하세요? / 00:13:12](셜록현준, 2023-05-11)**](https://www.youtube.com/watch?v=mFP7oGm-3nk&t=1s)

### 참고 문헌

